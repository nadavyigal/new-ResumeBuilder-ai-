/**
 * Auto-generated Template Registry
 * Generated by: scripts/sync-external-templates.ts
 * Last Updated: 2025-11-17T08:23:50.686Z
 *
 * DO NOT EDIT MANUALLY - Changes will be overwritten on next sync
 *
 * Note: Templates are loaded dynamically to avoid Next.js build errors
 * These templates contain <html> tags and are meant for PDF rendering only
 */

export interface TemplateComponent {
  (props: any): JSX.Element;
}

// Available template IDs
const AVAILABLE_TEMPLATES = [
  'minimal-ssr',
  'card-ssr',
  'sidebar-ssr',
  'timeline-ssr'
] as const;

/**
 * Dynamically loads a template component (server-side only)
 * These templates contain full HTML documents and should not be pre-rendered by Next.js
 */
export function getExternalTemplate(templateId: string): TemplateComponent | null {
  try {
    // Dynamic require() - only works server-side
    if (typeof window === 'undefined') {
      const templateModule = require(`./${templateId}/Resume.jsx`);
      return templateModule.default || null;
    }
    return null;
  } catch (error) {
    console.error(`Failed to load template: ${templateId}`, error);
    return null;
  }
}

export function listExternalTemplates(): string[] {
  return [...AVAILABLE_TEMPLATES];
}

// For backward compatibility - but templates are now loaded dynamically
export const TEMPLATE_REGISTRY: Record<string, string> = {
  'minimal-ssr': 'minimal-ssr',
  'card-ssr': 'card-ssr',
  'sidebar-ssr': 'sidebar-ssr',
  'timeline-ssr': 'timeline-ssr'
};

export default TEMPLATE_REGISTRY;
