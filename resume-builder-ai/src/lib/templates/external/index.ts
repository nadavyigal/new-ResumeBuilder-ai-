/**
 * Auto-generated Template Registry
 * Generated by: scripts/sync-external-templates.ts
 * Last Updated: 2025-11-23T12:10:53.650Z
 *
 * DO NOT EDIT MANUALLY - Changes will be overwritten on next sync
 */

export interface TemplateComponent {
  (props: any): JSX.Element;
}

// Template IDs available for dynamic import
const AVAILABLE_TEMPLATES = [
  'minimal-ssr',
  'card-ssr',
  'sidebar-ssr',
  'timeline-ssr'
] as const;

/**
 * Dynamically import a template component to avoid SSR/build-time issues
 * These templates may contain full HTML structure and should only be loaded when needed
 */
export async function getExternalTemplate(templateId: string): Promise<TemplateComponent | null> {
  try {
    switch (templateId) {
      case 'minimal-ssr':
        const MinimalSsr = await import('./minimal-ssr/Resume');
        return MinimalSsr.default;
      case 'card-ssr':
        const CardSsr = await import('./card-ssr/Resume');
        return CardSsr.default;
      case 'sidebar-ssr':
        const SidebarSsr = await import('./sidebar-ssr/Resume');
        return SidebarSsr.default;
      case 'timeline-ssr':
        const TimelineSsr = await import('./timeline-ssr/Resume');
        return TimelineSsr.default;
      default:
        return null;
    }
  } catch (error) {
    console.error(`Failed to load template: ${templateId}`, error);
    return null;
  }
}

export function listExternalTemplates(): string[] {
  return [...AVAILABLE_TEMPLATES];
}

// For backward compatibility - note this is now async
export const loadTemplateRegistry = async (): Promise<Record<string, TemplateComponent>> => {
  const registry: Record<string, TemplateComponent> = {};

  for (const templateId of AVAILABLE_TEMPLATES) {
    const template = await getExternalTemplate(templateId);
    if (template) {
      registry[templateId] = template;
    }
  }

  return registry;
};
